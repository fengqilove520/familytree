<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="top.fqq.familytree.dao.PersonDao">
    <resultMap id="BaseResultMap" type="top.fqq.familytree.bean.vo.PersonVo">
        <id column="id" jdbcType="VARCHAR" property="id"/>
        <result column="name" jdbcType="VARCHAR" property="name"/>
        <result column="sex" jdbcType="BOOLEAN" property="sex"/>
        <result column="domicile_place" jdbcType="VARCHAR" property="domicilePlace"/>
        <result column="residential_address" jdbcType="VARCHAR" property="residentialAddress"/>
        <result column="birth_time" jdbcType="TIMESTAMP" property="birthTime"/>
        <result column="death_time" jdbcType="TIMESTAMP" property="deathTime"/>
        <result column="pid" jdbcType="VARCHAR" property="pid"/>
        <result column="mate_id" jdbcType="VARCHAR" property="mateId"/>
        <result column="deleted" jdbcType="BOOLEAN" property="deleted"/>
        <result column="create_time" jdbcType="TIMESTAMP" property="createTime"/>
        <result column="create_user" jdbcType="VARCHAR" property="createUser"/>
    </resultMap>
    <sql id="Base_Column_List">
      id, `name`, sex, domicile_place, residential_address, birth_time, death_time, pid,
      mate_id, deleted, create_time, create_user
    </sql>
    <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from person
        where id = #{id,jdbcType=VARCHAR}
    </select>
    <select id="select" resultType="top.fqq.familytree.bean.vo.PersonVo">
        select
        <include refid="Base_Column_List"/>
        from person
        <where>
            <if test="sex != null">
                and sex = #{sex}
            </if>
        </where>
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
      delete from person
      where id = #{id,jdbcType=VARCHAR}
    </delete>
    <insert id="insert" parameterType="top.fqq.familytree.bean.po.PersonPo" useGeneratedKeys="true">
      insert into person (`name`, sex, domicile_place,
      residential_address, birth_time, death_time,
      pid, mate_id, deleted,
      create_time, create_user)
    values (#{name,jdbcType=VARCHAR}, #{sex,jdbcType=BOOLEAN}, #{domicilePlace,jdbcType=VARCHAR},
      #{residentialAddress,jdbcType=VARCHAR}, #{birthTime,jdbcType=TIMESTAMP}, #{deathTime,jdbcType=TIMESTAMP},
      #{pid,jdbcType=VARCHAR}, #{mateId,jdbcType=VARCHAR}, #{deleted,jdbcType=BOOLEAN},
      #{createTime,jdbcType=TIMESTAMP}, #{createUser,jdbcType=VARCHAR})
    </insert>

    <update id="updateByPrimaryKeySelective" parameterType="top.fqq.familytree.bean.po.PersonPo">
        update person
        <set>
            <if test="name != null">
                `name` = #{name,jdbcType=VARCHAR},
            </if>
            <if test="sex != null">
                sex = #{sex,jdbcType=BOOLEAN},
            </if>
            <if test="domicilePlace != null">
                domicile_place = #{domicilePlace,jdbcType=VARCHAR},
            </if>
            <if test="residentialAddress != null">
                residential_address = #{residentialAddress,jdbcType=VARCHAR},
            </if>
            <if test="birthTime != null">
                birth_time = #{birthTime,jdbcType=TIMESTAMP},
            </if>
            <if test="deathTime != null">
                death_time = #{deathTime,jdbcType=TIMESTAMP},
            </if>
            <if test="pid != null">
                pid = #{pid,jdbcType=VARCHAR},
            </if>
            <if test="mateId != null">
                mate_id = #{mateId,jdbcType=VARCHAR},
            </if>
            <if test="deleted != null">
                deleted = #{deleted,jdbcType=BOOLEAN},
            </if>
            <if test="createTime != null">
                create_time = #{createTime,jdbcType=TIMESTAMP},
            </if>
            <if test="createUser != null">
                create_user = #{createUser,jdbcType=VARCHAR},
            </if>
        </set>
        where id = #{id,jdbcType=VARCHAR}
    </update>

    <update id="updateByPrimaryKey" parameterType="top.fqq.familytree.bean.po.PersonPo">
      update person
      set `name` = #{name,jdbcType=VARCHAR},
        sex = #{sex,jdbcType=BOOLEAN},
        domicile_place = #{domicilePlace,jdbcType=VARCHAR},
        residential_address = #{residentialAddress,jdbcType=VARCHAR},
        birth_time = #{birthTime,jdbcType=TIMESTAMP},
        death_time = #{deathTime,jdbcType=TIMESTAMP},
        pid = #{pid,jdbcType=VARCHAR},
        mate_id = #{mateId,jdbcType=VARCHAR},
        deleted = #{deleted,jdbcType=BOOLEAN},
        create_time = #{createTime,jdbcType=TIMESTAMP},
        create_user = #{createUser,jdbcType=VARCHAR}
      where id = #{id,jdbcType=VARCHAR}
    </update>
</mapper>
